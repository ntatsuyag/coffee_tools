import Head from 'next/head'
import React, { useState } from 'react'

export default function Home() {
  const [calcGram, setCalcGram] = useState(0)
  const [coffeeGram, setCoffeeGram] = useState(0)
  const [ratio, setRatio] = useState(15)
  
  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setCoffeeGram(Number(event.target.value))
  }
  
  const handleCalculationGram = () => {
    setCalcGram(coffeeGram*ratio)
  }

  const handleRatioChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setRatio(Number(event.target.value))
  }

  return (
    <>
      <Head>
        <title>Coffee tools</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/coffee.png" />
      </Head>
      <header>
        <h1 className='text-4xl text-center bg-amber-800 text-white py-3 mb-4'>â˜•ï¸ Coffee tools</h1>
      </header>
      <main>
        <div className='mx-4 p-2 text-gray-800 bg-slate-200 shadow-md'>
          <h1 className='text-2xl font-mono'>5å›æŠ½å‡ºã®æ°´é‡è¨ˆç®—ãƒ„ãƒ¼ãƒ«</h1>
          <h2 className='text-lg'>ã‚³ãƒ¼ãƒ’ã®é‡ã• (g) ã‚’å…¥åŠ› or ä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰é¸æŠ</h2>
          <input type="number" min="0" value={coffeeGram} onChange={handleInputChange} className='shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline'/>
          <div className='flex'>
            <button onClick={()=>setCoffeeGram(20)} className='bg-zinc-500 hover:bg-amber-600 text-white font-bold py-2 px-2 my-2 mr-2 rounded focus:outline-none focus:shadow-outline'>20g</button>
            <button onClick={()=>setCoffeeGram(25)} className='bg-zinc-500 hover:bg-amber-600 text-white font-bold py-2 px-2 my-2 mr-2 rounded focus:outline-none focus:shadow-outline'>25g</button>
            <button onClick={()=>setCoffeeGram(30)} className='bg-zinc-500 hover:bg-amber-600 text-white font-bold py-2 px-2 my-2 mr-2 rounded focus:outline-none focus:shadow-outline'>30g</button>
            <button onClick={()=>setCoffeeGram(40)} className='bg-zinc-500 hover:bg-amber-600 text-white font-bold py-2 px-2 my-2 mr-2 rounded focus:outline-none focus:shadow-outline'>40g</button>
          </div>
          <button onClick={handleCalculationGram} className='bg-amber-600 hover:bg-amber-800 text-white text-lg font-bold py-2 px-2 mt-2 rounded focus:outline-none focus:shadow-outline'>è¨ˆç®—</button>
          <p className='mt-2 text-lg'>ã‚³ãƒ¼ãƒ’ãƒ¼:æ°´ = 1:{ratio} ã®å‰²åˆã§æ°´é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p>
          <div className='text-xl mt-2'>
            <h2 className='text-2xl border-b-4 border-amber-800'>ãƒ¬ã‚·ãƒ”</h2>
            <p className='my-2 border-b-2 border-zinc-600 '>å…¨æ°´é‡: {calcGram} g</p>
            <p>1ãƒ‰ãƒªãƒƒãƒ—ç›®: {calcGram*0.15} g</p>
            <p>2ãƒ‰ãƒªãƒƒãƒ—ç›®: {calcGram*0.3} g (+{calcGram*0.15}g)</p>
            <p>3ãƒ‰ãƒªãƒƒãƒ—ç›®: {calcGram*0.45} g (+{calcGram*0.15}g)</p>
            <p>4ãƒ‰ãƒªãƒƒãƒ—ç›®: {calcGram*0.7} g (+{calcGram*0.25}g)</p>
            <p>5ãƒ‰ãƒªãƒƒãƒ—ç›®: {calcGram} g (+{calcGram*0.3}g)</p>
          </div>
        </div>
        <div className='m-4 p-2 text-gray-800 bg-slate-100 shadow-md'>
          <h1 className='text-2xl font-mono'>ğŸ”§ è¨­å®š</h1>
          <h2 className='text-lg'>ã‚³ãƒ¼ãƒ’ã®é‡ã• (g)ã«å¯¾ã™ã‚‹æ°´é‡ã®å‰²åˆã‚’è¨­å®š</h2>
          <div className='flex'>
            <input type="range" step="1" min="1" max="20" value={ratio} onChange={handleRatioChange} className="accent-zinc-500 w-60"/>
            <p className='ml-4 text-xl'>{ratio}</p>
          </div>
        </div>
      </main>
      <footer>
        <h1 className=' border-t-8 border-amber-800 text-2xl text-center text-gray-800 py-3 mb-4'>ğŸ¤ enjoy your coffee time ğŸ¤</h1>
      </footer>
    </>
  )
}
